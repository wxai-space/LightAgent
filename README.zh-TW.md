
![LightAgent Banner](docs/images/lightagent-banner.jpg)
<div align="center">
  <p>
    <a href="https://opensource.org/licenses/Apache-2.0"><img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License"></a>
    <a href="https://github.com/wxai-space/LightAgent/releases"><img src="https://img.shields.io/github/release/wxai-space/LightAgent.svg" alt="GitHub release"></a>
    <a href="https://github.com/wxai-space/LightAgent/issues"><img src="https://img.shields.io/github/issues/wxai-space/LightAgent.svg" alt="GitHub issues"></a>
    <a href="https://github.com/wxai-space/LightAgent/stargazers"><img src="https://img.shields.io/github/stars/wxai-space/LightAgent.svg" alt="GitHub stars"></a>
    <a href="https://github.com/wxai-space/LightAgent/network"><img src="https://img.shields.io/github/forks/wxai-space/LightAgent.svg" alt="GitHub forks"></a>
    <a href="https://github.com/wxai-space/LightAgent/graphs/contributors"><img src="https://img.shields.io/github/contributors/wxai-space/LightAgent.svg" alt="GitHub contributors"></a>
    <a href="https://sufe-aiflm-lab.github.io/LightAgent/"><img src="https://img.shields.io/badge/docs-latest-brightgreen.svg" alt="Docs"></a>
    <a href="https://pypi.org/project/lightagent/"><img src="https://img.shields.io/pypi/v/lightagent.svg" alt="PyPI"></a>
    <a href="https://pypi.org/project/lightagent/"><img src="https://img.shields.io/pypi/dm/lightagent.svg" alt="Downloads"></a>
    <a href="https://pypi.org/project/lightagent/"><img src="https://img.shields.io/pypi/pyversions/lightagent.svg" alt="Python Version"></a>
    <a href="https://github.com/psf/black"><img src="https://img.shields.io/badge/code%20style-black-000000.svg" alt="Code Style"></a>
  </p>
</div>
<div align="center">
  <p>
    <a href="README.md">English</a> | 
    <a href="README.zh-CN.md">ç®€ä½“ä¸­æ–‡</a> | 
    ç¹é«”ä¸­æ–‡ | 
    <a href="README.es.md">EspaÃ±ol</a> | 
    <a href="README.fr.md">FranÃ§ais</a> | 
    <a href="README.de.md">Deutsch</a> | 
    <a href="README.ja.md">æ—¥æœ¬èª</a> | 
    <a href="README.ko.md">í•œêµ­ì–´</a> | 
    <a href="README.pt.md">PortuguÃªs</a> | 
    <a href="README.ru.md">Ğ ÑƒÑÑĞºĞ¸Ğ¹</a> 
  </p>
</div>

<div align="center">
  <h1>LightAgentğŸš€ï¼ˆä¸‹ä¸€ä»£Agentic AIæ¡†æ¶ï¼‰</h1>
</div>

**LightAgent** æ˜¯ä¸€å€‹æ¥µå…¶è¼•é‡çš„å¸¶è¨˜æ†¶ï¼ˆ`mem0`ï¼‰ã€å·¥å…·ï¼ˆ`Tools`ï¼‰ã€æ€ç¶­æ¨¹ï¼ˆ`ToT`ï¼‰çš„ä¸»å‹•å¼ Agentic Frameworkï¼ˆè‡ªä¸»æ€§æ¡†æ¶ï¼‰ï¼Œä¸¦ä¸”å®Œå…¨é–‹æºã€‚å®ƒæ”¯æŒæ¯”Openai Swarmæ›´ç°¡å–®çš„å¤šæ™ºèƒ½é«”å”åŒï¼Œç°¡å–®ä¸€æ­¥å³å¯æ§‹å»ºå…·å‚™è‡ªæˆ‘å­¸ç¿’èƒ½åŠ›çš„agentï¼Œä¸¦æ”¯æŒstdioå’Œsseæ–¹å¼æ¥å…¥MCPå”è­°ã€‚åº•å±¤æ¨¡å‹æ”¯æŒ OpenAIã€æ™ºè­œ ChatGLMã€DeepSeekã€éšèºæ˜Ÿè¾°ã€Qwené€šç¾©åƒå•å¤§æ¨¡å‹ç­‰ã€‚åŒæ™‚ï¼ŒLightAgent æ”¯æŒ OpenAI æµæ ¼å¼ API æœå‹™è¼¸å‡ºï¼Œç„¡ç¸«æ¥å…¥å„å¤§ä¸»æµ Chat æ¡†æ¶ã€‚ğŸŒŸ

---

## âœ¨ ç‰¹æ€§

- **è¼•é‡é«˜æ•ˆ** ğŸš€ï¼šæ¥µç°¡è¨­è¨ˆï¼Œå¿«é€Ÿéƒ¨ç½²ï¼Œé©åˆå„ç¨®è¦æ¨¡çš„æ‡‰ç”¨å ´æ™¯ã€‚ï¼ˆNo LangChain, No LlamaIndexï¼‰100% Python å¯¦ç¾ï¼Œç„¡éœ€é¡å¤–ä¾è³´ï¼Œæ ¸å¿ƒä»£ç¢¼åƒ…1000è¡Œï¼Œå®Œå…¨é–‹æºã€‚ 
- **è¨˜æ†¶æ”¯æŒ** ğŸ§ ï¼šæ”¯æŒç‚ºæ¯å€‹ç”¨æˆ¶è‡ªå®šç¾©é•·æœŸè¨˜æ†¶ï¼ŒåŸç”Ÿæ”¯æŒ `mem0` è¨˜æ†¶æ¨¡å¡Šï¼Œå¯¦ç¾å°è©±éç¨‹ä¸­è‡ªå‹•ç®¡ç†ç”¨æˆ¶å€‹æ€§åŒ–è¨˜æ†¶ï¼Œè®“ Agent æ›´æ™ºèƒ½ã€‚
- **è‡ªä¸»å­¸ç¿’** ğŸ“šï¸ï¼šæ¯å€‹ agent æ“æœ‰è‡ªä¸»å­¸ç¿’èƒ½åŠ›ï¼Œä¸¦ä¸”æ“æœ‰æ¬Šé™çš„ç®¡ç†å“¡å¯ä»¥ç®¡ç†æ¯å€‹ agentã€‚
- **å·¥å…·é›†æˆ** ğŸ› ï¸ï¼šæ”¯æŒè‡ªå®šç¾©å·¥å…·ï¼ˆ`Tools`ï¼‰ï¼Œè‡ªå‹•åŒ–å·¥å…·ç”Ÿæˆï¼Œéˆæ´»æ“´å±•ï¼Œæ»¿è¶³å¤šæ¨£åŒ–éœ€æ±‚ã€‚  
- **è¤‡é›œç›®æ¨™** ğŸŒ³ï¼šå…§ç½®å¸¶åæ€çš„æ€ç¶­æ¨¹ï¼ˆToTï¼‰æ¨¡å¡Šï¼Œæ”¯æŒè¤‡é›œä»»å‹™åˆ†è§£å’Œå¤šæ­¥æ¨ç†ï¼Œæå‡ä»»å‹™è™•ç†èƒ½åŠ›ã€‚  
- **å¤šæ™ºèƒ½é«”å”åŒ** ğŸ¤–ï¼šæ¯”Swarmæ›´ç°¡å–®å¯¦ç¾çš„å¤šæ™ºèƒ½é«”å”åŒå·¥ä½œï¼Œå…§ç½®LightSwarmå¯¦ç¾æ„åœ–åˆ¤æ–·å’Œä»»å‹™è½‰ç§»åŠŸèƒ½ï¼Œèƒ½å¤ æ›´æ™ºèƒ½åœ°è™•ç†ç”¨æˆ¶è¼¸å…¥ï¼Œä¸¦æ ¹æ“šéœ€è¦å°‡ä»»å‹™è½‰ç§»çµ¦å…¶ä»–ä»£ç†ã€‚ 
- **ç¨ç«‹åŸ·è¡Œ** ğŸ¤–ï¼šç„¡äººç‚ºå¹²é è‡ªä¸»å®Œæˆä»»å‹™å·¥å…·èª¿ç”¨ã€‚  
- **å¤šæ¨¡å‹æ”¯æŒ** ğŸ”„ï¼šå…¼å®¹ OpenAIã€æ™ºè­œ ChatGLMã€ç™¾å·å¤§æ¨¡å‹ã€StepFunã€DeepSeekã€Qwen ç³»åˆ—å¤§æ¨¡å‹ã€‚  
- **æµå¼ API** ğŸŒŠï¼šæ”¯æŒ OpenAI æµæ ¼å¼ API æœå‹™è¼¸å‡ºï¼Œç„¡ç¸«æ¥å…¥ä¸»æµ Chat æ¡†æ¶ï¼Œæå‡ç”¨æˆ¶é«”é©—ã€‚  
- **Toolså·¥å…·ç”Ÿæˆå™¨** ğŸš€ï¼šåªéœ€å°‡æ‚¨çš„ API æ–‡æª”äº¤çµ¦[Toolså·¥å…·ç”Ÿæˆå™¨]ï¼Œå®ƒå°‡è‡ªå‹•åŒ–åœ°ç‚ºæ‚¨æ‰“é€ å°ˆå±¬çš„ toolsï¼ŒåŠ©æ‚¨åœ¨çŸ­çŸ­1å°æ™‚å…§å¿«é€Ÿæ§‹å»ºæ•¸ç™¾å€‹å€‹æ€§åŒ–çš„è‡ªå®šç¾©å·¥å…·ï¼Œæé«˜æ•ˆç‡ï¼Œé‡‹æ”¾æ‚¨çš„å‰µæ–°æ½›èƒ½ã€‚
- **agent è‡ªæˆ‘å­¸ç¿’** ğŸ§ ï¸ï¼šæ¯å€‹ agent æ“æœ‰è‡ªå·±çš„å ´æ™¯è¨˜æ†¶èƒ½åŠ›ï¼Œæ“æœ‰å¾ç”¨æˆ¶çš„å°è©±ä¸­é€²è¡Œè‡ªæˆ‘å­¸ç¿’èƒ½åŠ›ã€‚
- **è‡ªé©æ‡‰ tools æ©Ÿåˆ¶** ğŸ› ï¸ï¼šæ”¯æŒæ·»åŠ ç„¡é™é‡ toolsï¼Œåœ¨ä¸Šè¬å€‹å·¥å…·ä¸­è®“å¤§æ¨¡å‹å…ˆé¸å–å€™é¸å·¥å…·é›†åˆï¼Œéæ¿¾ç„¡é—œå·¥å…·å¾Œå†æäº¤ä¸Šä¸‹æ–‡çµ¦å¤§æ¨¡å‹ï¼Œå¯å¤§å¹…åº¦é™ä½ Token æ¶ˆè€—ã€‚


## ğŸš§ å³å°‡æ¨å‡º

- **æ™ºèƒ½é«”å”åŒé€šè¨Š** ğŸ› ï¸ï¼šæ™ºèƒ½é«”ä¹‹é–“é‚„å¯ä»¥å…±äº«è³‡è¨Šå’Œå‚³éæ¶ˆæ¯ï¼Œå¯¦ç¾è¤‡é›œçš„ä¿¡æ¯é€šè¨Šå’Œä»»å‹™å”åŒã€‚
- **Agent æ¸¬è©•** ğŸ“Šï¼šå…§ç½® Agent æ¸¬è©•å·¥å…·ï¼Œæ–¹ä¾¿è©•ä¼°å’Œå„ªåŒ–æ‚¨æ§‹å»ºçš„ Agentï¼Œå°é½Šæ¥­å‹™å ´æ™¯ï¼ŒæŒçºŒæå‡æ™ºèƒ½æ°´å¹³ã€‚  


## å…§ç½® â€œæ€è€ƒæµâ€
ï¼ˆThought Flowï¼‰æ–¹æ³•é€šéç³»çµ±æ€§ã€çµæ§‹åŒ–å’Œéˆæ´»çš„æ€ç¶­éç¨‹ï¼Œèƒ½å¤ æœ‰æ•ˆæ‡‰å°è¤‡é›œå ´æ™¯ä¸­çš„æŒ‘æˆ°ã€‚
ä»¥ä¸‹æ˜¯å…·é«”å¯¦æ–½æ­¥é©Ÿï¼š
```text
å•é¡Œå®šç¾©ï¼šæ˜ç¢ºæ ¸å¿ƒå•é¡Œå’Œç›®æ¨™ã€‚

ä¿¡æ¯æ”¶é›†ï¼šç³»çµ±åœ°æ”¶é›†ç›¸é—œä¿¡æ¯å’Œæ•¸æ“šã€‚

åˆ†è§£å•é¡Œï¼šå°‡è¤‡é›œå•é¡Œåˆ†è§£ç‚ºå¤šå€‹å­å•é¡Œæˆ–æ¨¡å¡Šã€‚

å¤šç¶­åº¦åˆ†æï¼šå¾ä¸åŒè§’åº¦å’Œå±¤é¢åˆ†ææ¯å€‹å­å•é¡Œã€‚

å»ºç«‹é—œè¯ï¼šè­˜åˆ¥å­å•é¡Œä¹‹é–“çš„é—œè¯å’Œä¾è³´é—œä¿‚ã€‚

ç”Ÿæˆè§£æ±ºæ–¹æ¡ˆï¼šé‡å°æ¯å€‹å­å•é¡Œæå‡ºå¯èƒ½çš„è§£æ±ºæ–¹æ¡ˆã€‚

è©•ä¼°èˆ‡é¸æ“‡ï¼šè©•ä¼°å„è§£æ±ºæ–¹æ¡ˆçš„å¯è¡Œæ€§å’Œå½±éŸ¿ï¼Œé¸æ“‡æœ€å„ªæ–¹æ¡ˆã€‚

å¯¦æ–½èˆ‡åé¥‹ï¼šå¯¦æ–½é¸å®šæ–¹æ¡ˆï¼Œä¸¦æ ¹æ“šåé¥‹é€²è¡Œèª¿æ•´ã€‚
```

---
## ğŸŒŸ ç‚ºä»€éº¼é¸æ“‡ LightAgentï¼Ÿ

- **é–‹æºå…è²»** ğŸ’–ï¼šå®Œå…¨é–‹æºï¼Œç¤¾å€é©…å‹•ï¼ŒæŒçºŒæ›´æ–°ï¼Œæ­¡è¿è²¢ç»ï¼  
- **æ˜“æ–¼ä¸Šæ‰‹** ğŸ¯ï¼šæ–‡æª”è©³ç›¡ï¼Œç¤ºä¾‹è±å¯Œï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œè¼•é¬†é›†æˆåˆ°æ‚¨çš„é …ç›®ä¸­ã€‚  
- **ç¤¾å€æ”¯æŒ** ğŸ‘¥ï¼šæ´»èºçš„é–‹ç™¼è€…ç¤¾å€ï¼Œéš¨æ™‚ç‚ºæ‚¨æä¾›å¹«åŠ©å’Œè§£ç­”ã€‚  
- **é«˜æ€§èƒ½** âš¡ï¼šå„ªåŒ–è¨­è¨ˆï¼Œé«˜æ•ˆé‹è¡Œï¼Œæ»¿è¶³é«˜ä¸¦ç™¼å ´æ™¯éœ€æ±‚ã€‚  

---

## ğŸ› ï¸ å¿«é€Ÿé–‹å§‹

### å®‰è£ LightAgent æœ€æ–°ç‰ˆæœ¬

```bash
pip install lightagent
```

ï¼ˆå¯é¸å®‰è£ï¼‰é€šé pip å®‰è£ Mem0 åŒ…ï¼š

```bash
pip install mem0ai
```

æˆ–è€…ï¼Œæ‚¨å¯ä»¥é€šéä¸€éµé»æ“Šåœ¨æ‰˜ç®¡å¹³å°ä¸Šä½¿ç”¨ Mem0ï¼Œ[é»æ“Šé€™è£¡](https://www.mem0.ai/)ã€‚


### Hello world ç¤ºä¾‹ä»£ç¢¼

```python
from LightAgent import LightAgent

# åˆå§‹åŒ– Agent
agent = LightAgent(model="gpt-4o-mini", api_key="your_api_key", base_url= "your_base_url")

# é‹è¡Œ Agent
response = agent.run("ä½ å¥½ï¼Œä½ æ˜¯èª°ï¼Ÿ")
print(response)
```

### é€é system æç¤ºè©è¨­å®šæ¨¡å‹è‡ªæˆ‘èªçŸ¥

```python
from LightAgent import LightAgent

# åˆå§‹åŒ– Agent
agent = LightAgent(
     role="è«‹è¨˜ä½ä½ æ˜¯ LightAgentï¼Œä¸€å€‹å¯ä»¥å¹«åŠ©ç”¨æˆ¶å®Œæˆå¤šå·¥å…·ä½¿ç”¨çš„æœ‰ç”¨åŠ©æ‰‹ã€‚",  # system è§’è‰²æè¿°
     model="deepseek-chat",  # æ”¯æŒçš„æ¨¡å‹ï¼šopenai, chatglm, deepseek, qwen ç­‰
     api_key="your_api_key",  # æ›¿æ›ç‚ºä½ çš„å¤§æ¨¡å‹æœå‹™å•† API Key
     base_url="your_base_url",  # æ›¿æ›ç‚ºä½ çš„å¤§æ¨¡å‹æœå‹™å•† api url
 )
# é‹è¡Œ Agent
response = agent.run("è«‹å•ä½ æ˜¯èª°ï¼Ÿ")
print(response)
```

### ä½¿ç”¨å·¥å…·ç¤ºä¾‹ä»£ç¢¼

```python
from LightAgent import LightAgent


# å®šç¾©å·¥å…·
def get_weather(city_name: str) -> str:
    """
    ç²å– `city_name` çš„ç•¶å‰å¤©æ°£
    """
    return f"æŸ¥è©¢çµæœ: {city_name} å¤©æ°£æ™´"
# åœ¨å‡½æ•¸å…§éƒ¨å®šç¾©å·¥å…·ä¿¡æ¯
get_weather.tool_info = {
    "tool_name": "get_weather",
    "tool_description": "ç²å–æŒ‡å®šåŸå¸‚çš„ç•¶å‰å¤©æ°£ä¿¡æ¯",
    "tool_params": [
        {"name": "city_name", "description": "è¦æŸ¥è©¢çš„åŸå¸‚åç¨±", "type": "string", "required": True},
    ]
}

tools = [get_weather]

# åˆå§‹åŒ– Agent
agent = LightAgent(model="qwen-turbo-2024-11-01", api_key="your_api_key", base_url= "your_base_url", tools=tools)

# é‹è¡Œ Agent
response = agent.run("è«‹å¹«æˆ‘æŸ¥è©¢ä¸€ä¸‹ä¸Šæµ·çš„å¤©æ°£æƒ…æ³")
print(response)
```
æ”¯æŒè‡ªå®šç¾©ç„¡é™æ•¸é‡çš„å·¥å…·ã€‚

å¤šå€‹å·¥å…·ç¤ºä¾‹ï¼š tools = [search_news,get_weather,get_stock_realtime_data,get_stock_kline_data]

---

## åŠŸèƒ½è©³è§£

### 1. å¯æ‹†å¸çš„å…¨è‡ªå‹•è¨˜æ†¶æ¨¡å¡Šï¼ˆ`mem0`ï¼‰
LightAgent æ”¯æŒå¤–éƒ¨æ“´å±• `mem0` è¨˜æ†¶æ¨¡å¡Šï¼Œå…¨è‡ªå‹•é€²è¡Œä¸Šä¸‹æ–‡è¨˜æ†¶å’Œæ­·å²è¨˜éŒ„ç®¡ç†ï¼Œç„¡éœ€é–‹ç™¼äººå“¡æ‰‹å‹•è§¸ç™¼æ·»åŠ è¨˜æ†¶å’Œè¨˜æ†¶æŸ¥æ‰¾ã€‚é€šéè¨˜æ†¶æ¨¡å¡Šï¼ŒAgent å¯ä»¥åœ¨å¤šè¼ªå°è©±ä¸­ä¿æŒä¸Šä¸‹æ–‡ä¸€è‡´æ€§ã€‚

```python
# å•Ÿç”¨è¨˜æ†¶æ¨¡å¡Š

# æˆ–è€…ä½¿ç”¨è‡ªå®šç¾©è¨˜æ†¶æ¨¡å¡Šï¼Œä¸‹é¢ä»¥ mem0 ç‚ºä¾‹ https://github.com/mem0ai/mem0/
from mem0 import Memory
from LightAgent import LightAgent
import os
from loguru import logger

class CustomMemory:
    def __init__(self):
        self.memories = []
        os.environ["OPENAI_API_KEY"] = "your_api_key"
        os.environ["OPENAI_API_BASE"] = "your_base_url"
        # Initialize Mem0
        config = {
            "version": "v1.1"
        }
        # mem0ä¸­å¦‚éœ€ä½¿ç”¨qdrantä½œç‚ºå‘é‡æ•¸æ“šåº«å­˜å„²è¨˜æ†¶ï¼Œè«‹å°‡configæ”¹ç‚ºä¸‹é¢ä»£ç¢¼
        # config = {
        #     "vector_store": {
        #         "provider": "qdrant",
        #         "config": {
        #             "host": "localhost",
        #             "port": 6333,
        #         }
        #     },
        #     "version": "v1.1"
        # }
        self.m = Memory.from_config(config_dict=config)

    def store(self, data: str, user_id):
        """å­˜å„²è¨˜æ†¶é–‹ç™¼è€…å¯ä»¥è‡ªè¡Œä¿®æ”¹å­˜å„²æ–¹æ³•çš„å…§éƒ¨å¯¦ç¾ï¼Œç•¶å‰ç¤ºä¾‹ç‚ºmem0çš„æ·»åŠ è¨˜æ†¶æ–¹æ³•"""
        result = self.m.add(data, user_id=user_id)
        return result

    def retrieve(self, query: str, user_id):
        """æª¢ç´¢ç›¸é—œè¨˜æ†¶é–‹ç™¼è€…å¯ä»¥è‡ªè¡Œä¿®æ”¹æª¢ç´¢æ–¹æ³•çš„å…§éƒ¨å¯¦ç¾ï¼Œç•¶å‰ç¤ºä¾‹ç‚ºmem0çš„æŸ¥æ‰¾è¨˜æ†¶æ–¹æ³•"""
        result = self.m.search(query, user_id=user_id)
        return result

agent = LightAgent(
        role="è«‹è¨˜ä½ä½ æ˜¯ LightAgentï¼Œä¸€å€‹å¯ä»¥å¹«åŠ©ç”¨æˆ¶å®Œæˆå¤šå·¥å…·ä½¿ç”¨çš„æœ‰ç”¨åŠ©æ‰‹ã€‚",  # system è§’è‰²æè¿°
        model="deepseek-chat",  # æ”¯æŒçš„æ¨¡å‹ï¼šopenai, chatglm, deepseek, qwen ç­‰
        api_key="your_api_key",  # æ›¿æ›ç‚ºä½ çš„å¤§æ¨¡å‹æœå‹™å•† API Key
        base_url="your_base_url",  # æ›¿æ›ç‚ºä½ çš„å¤§æ¨¡å‹æœå‹™å•† api url
        memory=CustomMemory(),  # å•Ÿç”¨è¨˜æ†¶åŠŸèƒ½
        tree_of_thought=False,  # å•Ÿç”¨æ€ç¶­éˆ
    )

# å¸¶è¨˜æ†¶çš„æ¸¬è©¦ & å¦‚æœéœ€è¦æ·»åŠ å·¥å…·å¯ä»¥è‡ªè¡Œæ·»åŠ toolsåˆ°agentä¾†å¯¦ç¾å¸¶è¨˜æ†¶çš„å·¥å…·èª¿ç”¨

user_id = "user_01"
logger.info("\n=========== next conversation ===========")
query = "ä»‹ç´¹ä¸‹ä¸‰äºçš„æœ‰ä»€éº¼å¥½ç©çš„æ™¯é»ï¼Œèº«é‚Šå¾ˆå¤šæœ‹å‹éƒ½å»ä¸‰äºæ—…éŠäº†ï¼Œæˆ‘ä¹Ÿæƒ³å»ç©"
print(agent.run(query, stream=False, user_id=user_id))
logger.info("\n=========== next conversation ===========")
query = "æˆ‘æƒ³å»å“ªè£¡æ—…éŠå‘¢ï¼Ÿ"
print(agent.run(query, stream=False, user_id=user_id))
```

è¼¸å‡ºå¦‚ä¸‹ï¼š
```python
=========== next conversation ===========
2025-01-01 21:55:15.886 | INFO     | __main__:run_conversation:115 - 
é–‹å§‹æ€è€ƒå•é¡Œ: ä»‹ç´¹ä¸‹ä¸‰äºçš„æœ‰ä»€éº¼å¥½ç©çš„æ™¯é»ï¼Œèº«é‚Šå¾ˆå¤šæœ‹å‹éƒ½å»ä¸‰äºæ—…éŠäº†ï¼Œæˆ‘ä¹Ÿæƒ³å»ç©
2025-01-01 21:55:28.676 | INFO     | __main__:run_conversation:118 - Final Reply: 
ä¸‰äºæ˜¯ä¸­åœ‹æµ·å—çœçš„ä¸€å€‹ç†±é–€æ—…éŠåŸå¸‚ï¼Œä»¥å…¶ç¾éº—çš„æµ·ç˜ã€ç†±å¸¶æ°£å€™å’Œè±å¯Œçš„æ—…éŠè³‡æºè€Œèåã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ä¸‰äºå€¼å¾—ä¸€éŠçš„æ™¯é»ï¼š

1. **äºé¾ç£**ï¼šè¢«è­½ç‚ºâ€œæ±æ–¹å¤å¨å¤·â€ï¼Œæ“æœ‰ç¶¿é•·çš„æ²™ç˜å’Œæ¸…æ¾ˆçš„æµ·æ°´ï¼Œæ˜¯æ¸¸æ³³ã€æ½›æ°´å’Œæ—¥å…‰æµ´çš„ç†æƒ³ä¹‹åœ°ã€‚

2. **å¤©æ¶¯æµ·è§’**ï¼šé€™æ˜¯ä¸€å€‹è‘—åçš„æ–‡åŒ–æ™¯è§€ï¼Œä»¥å…¶å£¯éº—çš„æµ·æ™¯å’Œæµªæ¼«çš„å‚³èªªè€Œå¸å¼•éŠå®¢ã€‚é€™è£¡çš„å·¨çŸ³ä¸Šåˆ»æœ‰â€œå¤©æ¶¯â€å’Œâ€œæµ·è§’â€å­—æ¨£ï¼Œè±¡å¾µè‘—æ°¸æ†çš„æ„›æƒ…ã€‚

3. **å—å±±æ–‡åŒ–æ—…éŠå€**ï¼šé€™è£¡æœ‰ä¸€å€‹é«˜é”108ç±³çš„å—å±±æµ·ä¸Šè§€éŸ³åƒï¼Œæ˜¯ä¸–ç•Œä¸Šæœ€é«˜çš„æµ·ä¸Šè§€éŸ³åƒã€‚éŠå®¢å¯ä»¥åœ¨é€™è£¡é«”é©—ä½›æ•™æ–‡åŒ–ï¼Œåƒè§€å¯ºå»Ÿå’Œåœ’æ—ã€‚

4. **èœˆæ”¯æ´²å³¶**ï¼šé€™æ˜¯ä¸€å€‹å°å³¶ï¼Œä»¥å…¶åŸå§‹çš„è‡ªç„¶é¢¨å…‰å’Œè±å¯Œçš„æ°´ä¸Šæ´»å‹•è€Œèåã€‚éŠå®¢å¯ä»¥åœ¨é€™è£¡é€²è¡Œæ½›æ°´ã€æµ®æ½›ã€æµ·é‡£ç­‰æ´»å‹•ã€‚

5. **å¤§æ±æµ·**ï¼šé€™æ˜¯ä¸‰äºå¸‚å€å…§çš„ä¸€å€‹æµ·ç˜ï¼Œä»¥å…¶ä¾¿åˆ©çš„äº¤é€šå’Œè±å¯Œçš„å¤œç”Ÿæ´»è€Œå—åˆ°éŠå®¢çš„å–œæ„›ã€‚

6. **ä¸‰äºç£**ï¼šé€™æ˜¯ä¸€å€‹é•·é”22å…¬é‡Œçš„æµ·ç˜ï¼Œæ˜¯è§€è³æ—¥è½çš„å¥½åœ°æ–¹ã€‚é€™è£¡çš„æµ·ç˜è¼ƒç‚ºå®‰éœï¼Œé©åˆå–œæ­¡å¯§éœçš„éŠå®¢ã€‚

7. **å‘€è«¾é”é›¨æ—æ–‡åŒ–æ—…éŠå€**ï¼šé€™æ˜¯ä¸€å€‹ç†±å¸¶é›¨æ—å…¬åœ’ï¼ŒéŠå®¢å¯ä»¥åœ¨é€™è£¡é«”é©—ç†±å¸¶é›¨æ—çš„è‡ªç„¶é¢¨å…‰ï¼Œåƒèˆ‡å„ç¨®æ¢éšªæ´»å‹•ã€‚

8. **é¹¿å›é ­å…¬åœ’**ï¼šé€™æ˜¯ä¸€å€‹ä½æ–¼å±±é ‚çš„å…¬åœ’ï¼Œå¯ä»¥ä¿¯ç°æ•´å€‹ä¸‰äºå¸‚å€å’Œä¸‰äºç£çš„ç¾æ™¯ã€‚é€™è£¡é‚„æœ‰ä¸€å€‹é—œæ–¼é¹¿çš„ç¾éº—å‚³èªªã€‚

9. **è¥¿å³¶**ï¼šé€™æ˜¯ä¸€å€‹ç›¸å°è¼ƒç‚ºåŸå§‹çš„å°å³¶ï¼Œä»¥å…¶å¯§éœçš„æµ·ç˜å’Œè±å¯Œçš„æµ·æ´‹ç”Ÿç‰©è€Œå¸å¼•éŠå®¢ã€‚

10. **ä¸‰äºåƒå¤æƒ…**ï¼šé€™æ˜¯ä¸€å€‹å¤§å‹çš„æ–‡åŒ–ä¸»é¡Œå…¬åœ’ï¼Œé€šéè¡¨æ¼”å’Œå±•è¦½å±•ç¤ºæµ·å—çš„æ­·å²å’Œæ–‡åŒ–ã€‚

é™¤äº†ä¸Šè¿°æ™¯é»ï¼Œä¸‰äºé‚„æœ‰è¨±å¤šå…¶ä»–å€¼å¾—æ¢ç´¢çš„åœ°æ–¹ï¼Œå¦‚ç†±å¸¶æ¤ç‰©åœ’ã€æµ·é®®å¸‚å ´ç­‰ã€‚ä¸‰äºçš„ç¾é£Ÿä¹Ÿä¸å®¹éŒ¯éï¼Œå°¤å…¶æ˜¯æ–°é®®çš„æµ·é®®å’Œç†±å¸¶æ°´æœã€‚åœ¨è¦åŠƒæ—…è¡Œæ™‚ï¼Œå»ºè­°æå‰æŸ¥çœ‹å¤©æ°£é å ±å’Œæ™¯é»é–‹æ”¾æ™‚é–“ï¼Œä»¥ç¢ºä¿æœ‰ä¸€å€‹æ„‰å¿«çš„æ—…è¡Œé«”é©—ã€‚
2025-01-01 21:55:28.676 | INFO     | __main__:<module>:191 - 
=========== next conversation ===========
2025-01-01 21:55:28.676 | INFO     | __main__:run_conversation:115 - 
é–‹å§‹æ€è€ƒå•é¡Œ: æˆ‘æƒ³å»å“ªè£¡æ—…éŠå‘¢ï¼Ÿ
ç™¼ç¾ç›¸é—œè¨˜æ†¶:
ç”¨æˆ¶æƒ³å»æ—…éŠä¸‰äº
ç”¨æˆ¶çš„æœ‹å‹å·²ç¶“å»éä¸‰äºã€‚
2025-01-01 21:55:38.797 | INFO     | __main__:run_conversation:118 - Final Reply: 
æ ¹æ“šç”¨æˆ¶ä¹‹å‰æåˆ°çš„ä¿¡æ¯ï¼Œç”¨æˆ¶çš„æœ‹å‹å·²ç¶“å»éä¸‰äºï¼ˆSanyaï¼‰ï¼Œè€Œç”¨æˆ¶è‡ªå·±ä¹Ÿè¡¨é”äº†å°ä¸‰äºçš„èˆˆè¶£ã€‚å› æ­¤ï¼Œä¸‰äºå¯èƒ½æ˜¯ä¸€å€‹é©åˆç”¨æˆ¶çš„æ—…éŠç›®çš„åœ°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é—œæ–¼ä¸‰äºçš„æ—…éŠä¿¡æ¯ï¼Œä¾›ç”¨æˆ¶åƒè€ƒï¼š

### ä¸‰äºæ—…éŠæ¨è–¦ï¼š
1. **äºé¾ç£**ï¼šè¢«è­½ç‚ºâ€œæ±æ–¹å¤å¨å¤·â€ï¼Œæ“æœ‰ç¾éº—çš„æµ·ç˜å’Œæ¸…æ¾ˆçš„æµ·æ°´ï¼Œé©åˆæ¸¸æ³³å’Œæ—¥å…‰æµ´ã€‚
2. **å¤©æ¶¯æµ·è§’**ï¼šä¸‰äºçš„æ¨™èªŒæ€§æ™¯é»ï¼Œä»¥å…¶ç¨ç‰¹çš„å²©çŸ³å’Œæµªæ¼«çš„å‚³èªªå¸å¼•éŠå®¢ã€‚
3. **å—å±±æ–‡åŒ–æ—…éŠå€**ï¼šé€™è£¡æœ‰è‘—åçš„å—å±±å¯ºå’Œ108ç±³é«˜çš„æµ·ä¸Šè§€éŸ³åƒï¼Œæ˜¯ä½›æ•™æ–‡åŒ–çš„é‡è¦æ™¯é»ã€‚
4. **èœˆæ”¯æ´²å³¶**ï¼šé©åˆæ½›æ°´å’Œæµ·ä¸Šé‹å‹•ï¼Œå³¶ä¸Šæœ‰è±å¯Œçš„æµ·æ´‹ç”Ÿç‰©å’ŒçŠç‘šç¤ã€‚
5. **å¤§æ±æµ·**ï¼šä¸‰äºå¸‚å€å…§çš„æµ·ç˜ï¼Œäº¤é€šä¾¿åˆ©ï¼Œé©åˆå®¶åº­å’Œæƒ…ä¾¶éŠç©ã€‚

### å…¶ä»–æ¨è–¦ï¼š
å¦‚æœç”¨æˆ¶å°ä¸‰äºå·²ç¶“æœ‰æ‰€äº†è§£ï¼Œæˆ–è€…æƒ³è¦æ¢ç´¢å…¶ä»–ç›®çš„åœ°ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…¶ä»–ç†±é–€æ—…éŠåœ°ï¼š
1. **æ¡‚æ—**ï¼šä»¥å…¶ç¨ç‰¹çš„å–€æ–¯ç‰¹åœ°è²Œå’Œæ¼“æ±Ÿé¢¨å…‰èåã€‚
2. **éº—æ±Ÿ**ï¼šå¤åŸå’Œç‰é¾é›ªå±±æ˜¯å…¶ä¸»è¦æ™¯é»ï¼Œé©åˆå–œæ­¡æ­·å²æ–‡åŒ–å’Œè‡ªç„¶é¢¨å…‰çš„éŠå®¢ã€‚
3. **å¼µå®¶ç•Œ**ï¼šä»¥å…¶å¥‡ç‰¹çš„çŸ³æŸ±å’Œè‡ªç„¶æ™¯è§€è‘—ç¨±ï¼Œæ˜¯ã€Šé˜¿å‡¡é”ã€‹é›»å½±çš„å–æ™¯åœ°ä¹‹ä¸€ã€‚

ç”¨æˆ¶å¯ä»¥æ ¹æ“šè‡ªå·±çš„èˆˆè¶£å’Œæ™‚é–“å®‰æ’é¸æ“‡åˆé©çš„æ—…éŠç›®çš„åœ°ã€‚å¦‚æœç”¨æˆ¶éœ€è¦æ›´è©³ç´°çš„ä¿¡æ¯æˆ–å¹«åŠ©è¦åŠƒè¡Œç¨‹ï¼Œè«‹éš¨æ™‚å‘ŠçŸ¥ï¼
```

### 2. å·¥å…·é›†æˆï¼ˆç„¡é™æ“´å±•çš„è‡ªå®šç¾©å·¥å…·æ”¯æŒï¼‰
æ“æŠ±å€‹æ€§åŒ–å·¥å…·å®šè£½ï¼ˆ`Tools`ï¼‰ï¼Œä¸¦é€šé `tools` æ–¹æ³•è¼•é¬†é›†æˆæ‚¨çš„å°ˆå±¬å·¥å…·ã€‚é€™äº›å·¥å…·å¯ä»¥æ˜¯ä»»ä½• Python å‡½æ•¸ï¼Œä¸¦ä¸”æ”¯æŒåƒæ•¸é¡å‹è¨»è§£ï¼Œä»¥ç¢ºä¿éˆæ´»æ€§å’Œç²¾ç¢ºæ€§ã€‚æ­¤å¤–ï¼Œæˆ‘å€‘é‚„æä¾›æ™ºèƒ½ AI é©…å‹•çš„å·¥å…·ç”Ÿæˆå™¨ï¼ŒåŠ©åŠ›æ‚¨è‡ªå‹•åŒ–æ§‹å»ºå·¥å…·ï¼Œé‡‹æ”¾å‰µé€ åŠ›ã€‚

```python

import requests
from LightAgent import LightAgent

# å®šç¾©å·¥å…·
def get_weather(
        city_name: str
) -> str:
    """
    ç²å–åŸå¸‚å¤©æ°£ä¿¡æ¯
    :param city_name: åŸå¸‚åç¨±
    :return: å¤©æ°£ä¿¡æ¯
    """
    if not isinstance(city_name, str):
        raise TypeError("City name must be a string")

    key_selection = {
        "current_condition": ["temp_C", "FeelsLikeC", "humidity", "weatherDesc", "observation_time"],
    }
    try:
        resp = requests.get(f"https://wttr.in/{city_name}?format=j1")
        resp.raise_for_status()
        resp = resp.json()
        ret = {k: {_v: resp[k][0][_v] for _v in v} for k, v in key_selection.items()}
    except:
        import traceback
        ret = "Error encountered while fetching weather data!\n" + traceback.format_exc()

    return str(ret)
# åœ¨å‡½æ•¸å…§éƒ¨å®šç¾©å·¥å…·ä¿¡æ¯
get_weather.tool_info = {
    "tool_name": "get_weather",
    "tool_description": "ç²å–æŒ‡å®šåŸå¸‚çš„ç•¶å‰å¤©æ°£ä¿¡æ¯",
    "tool_params": [
        {"name": "city_name", "description": "è¦æŸ¥è©¢çš„åŸå¸‚åç¨±", "type": "string", "required": True},
    ]
}

def search_news(
        keyword: str,
        max_results: int = 5
) -> str:
    """
    æ ¹æ“šé—œéµè©æœç´¢æ–°è
    :param keyword: æœç´¢é—œéµè©
    :param max_results: è¿”å›çš„æœ€å¤§çµæœæ•¸é‡ï¼Œé»˜èªç‚º 5
    :return: æ–°èæœç´¢çµæœ
    """
    results = f"é€šéæœç´¢{keyword}, æˆ‘æ‰¾åˆ°{max_results}æ¢ç›¸é—œä¿¡æ¯"
    return str(results)

# åœ¨å‡½æ•¸å…§éƒ¨å®šç¾©å·¥å…·ä¿¡æ¯
search_news.tool_info = {
    "tool_name": "search_news",
    "tool_description": "æ ¹æ“šé—œéµè©æœç´¢æ–°è",
    "tool_params": [
        {"name": "keyword", "description": "æœç´¢é—œéµè©", "type": "string", "required": True},
        {"name": "max_results", "description": "è¿”å›çš„æœ€å¤§çµæœæ•¸é‡", "type": "int", "required": False},
    ]
}

def get_user_info(
        user_id: str
) -> str:
    """
    ç²å–ç”¨æˆ¶ä¿¡æ¯
    :param user_id: ç”¨æˆ¶ ID
    :return: ç”¨æˆ¶ä¿¡æ¯
    """
    if not isinstance(user_id, str):
        raise TypeError("User ID must be a string")

    try:
        # å‡è¨­ä½¿ç”¨ä¸€å€‹ç”¨æˆ¶ä¿¡æ¯ APIï¼Œé€™è£¡ç”¨ç¤ºä¾‹ URL
        url = f"https://api.example.com/users/{user_id}"
        response = requests.get(url)
        response.raise_for_status()
        user_data = response.json()
        user_info = {
            "name": user_data.get("name"),
            "email": user_data.get("email"),
            "created_at": user_data.get("created_at")
        }
    except:
        import traceback
        user_info = "Error encountered while fetching user data!\n" + traceback.format_exc()

    return str(user_info)

# åœ¨å‡½æ•¸å…§éƒ¨å®šç¾©å·¥å…·ä¿¡æ¯
get_user_info.tool_info = {
    "tool_name": "get_user_info",
    "tool_description": "ç²å–æŒ‡å®šç”¨æˆ¶çš„ä¿¡æ¯",
    "tool_params": [
        {"name": "user_id", "description": "ç”¨æˆ¶ ID", "type": "string", "required": True},
    ]
}

# è‡ªå®šç¾©å·¥å…·
tools = [get_weather, search_news, get_user_info]  # åŒ…å«æ‰€æœ‰å·¥å…·

# åˆå§‹åŒ– Agent
# æ›¿æ›ç‚ºä½ çš„æ¨¡å‹åƒæ•¸modelã€api_keyã€base_url
agent = LightAgent(model="qwen-turbo-2024-11-01", api_key="your_api_key", base_url= "your_base_url", tools=tools)

query = "ç•¶å‰ä¸‰äºå¤©æ°£å¦‚ä½•ï¼Ÿ"
response = agent.run(query, stream=False)  # ä½¿ç”¨ agent é‹è¡ŒæŸ¥è©¢
print(response)
```

### 3. Tools å·¥å…·ç”Ÿæˆå™¨
Tools å·¥å…·ç”Ÿæˆå™¨æ˜¯ä¸€å€‹ç”¨æ–¼è‡ªå‹•åŒ–ç”Ÿæˆå·¥å…·ä»£ç¢¼çš„æ¨¡å¡Šã€‚å®ƒå¯ä»¥æ ¹æ“šç”¨æˆ¶æä¾›çš„æ–‡æœ¬æè¿°ï¼Œè‡ªå‹•ç”Ÿæˆç›¸æ‡‰çš„å·¥å…·ä»£ç¢¼ï¼Œä¸¦å°‡å…¶ä¿å­˜åˆ°æŒ‡å®šçš„ç›®éŒ„ä¸­ã€‚è©²åŠŸèƒ½ç‰¹åˆ¥é©ç”¨æ–¼éœ€è¦å¿«é€Ÿç”Ÿæˆ API èª¿ç”¨å·¥å…·ã€æ•¸æ“šè™•ç†å·¥å…·ç­‰å ´æ™¯ã€‚

ä½¿ç”¨ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€å€‹ä½¿ç”¨ Tools å·¥å…·ç”Ÿæˆå™¨çš„ç¤ºä¾‹ä»£ç¢¼ï¼š

```python
import json
import os
import sys
from LightAgent import LightAgent

# åˆå§‹åŒ– LightAgent
agent = LightAgent(
    name="Agent A",  # ä»£ç†åç¨±
    instructions="You are a helpful agent.",  # è§’è‰²æè¿°
    role="è«‹è¨˜ä½ä½ æ˜¯å·¥å…·ç”Ÿæˆå™¨ï¼Œä½ çš„ä»»å‹™æ˜¯æ ¹æ“šç”¨æˆ¶æä¾›çš„æ–‡æœ¬æè¿°ï¼Œè‡ªå‹•ç”Ÿæˆç›¸æ‡‰çš„å·¥å…·ä»£ç¢¼ï¼Œä¸¦å°‡å…¶ä¿å­˜åˆ°æŒ‡å®šçš„ç›®éŒ„ä¸­ã€‚è«‹ç¢ºä¿ç”Ÿæˆçš„ä»£ç¢¼æº–ç¢ºã€å¯ç”¨ï¼Œä¸¦ç¬¦åˆç”¨æˆ¶çš„éœ€æ±‚ã€‚",  # å·¥å…·ç”Ÿæˆå™¨çš„è§’è‰²æè¿°
    model="deepseek-chat",  # æ›¿æ›ç‚ºä½ çš„æ¨¡å‹ã€‚æ”¯æŒçš„æ¨¡å‹ï¼šopenai, chatglm, deepseek, qwen ç­‰
    api_key="your_api_key",  # æ›¿æ›ç‚ºä½ çš„ API Key
    base_url="your_base_url",  # æ›¿æ›ç‚ºä½ çš„ api url
)

# ç¤ºä¾‹æ–‡æœ¬æè¿°
text = """
æ–°æµªè‚¡ç¥¨æ¥å£æä¾›äº†ç²å–è‚¡ç¥¨å¸‚å ´æ•¸æ“šçš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬è‚¡ç¥¨è¡Œæƒ…ã€å³æ™‚äº¤æ˜“æ•¸æ“šã€Kç·šåœ–æ•¸æ“šç­‰ã€‚

æ–°æµªè‚¡ç¥¨æ¥å£åŠŸèƒ½ä»‹ç´¹
1ã€ç²å–è‚¡ç¥¨è¡Œæƒ…æ•¸æ“šï¼š
å³æ™‚è¡Œæƒ…æ•¸æ“šï¼šä½¿ç”¨å³æ™‚è¡Œæƒ… API å¯ä»¥ç²å–è‚¡ç¥¨çš„æœ€æ–°å ±åƒ¹ã€æˆäº¤é‡ã€æ¼²è·Œå¹…ç­‰ä¿¡æ¯ã€‚
åˆ†é˜ç·šè¡Œæƒ…æ•¸æ“šï¼šä½¿ç”¨åˆ†é˜ç·šè¡Œæƒ… API å¯ä»¥ç²å–è‚¡ç¥¨çš„é€åˆ†é˜äº¤æ˜“æ•¸æ“šï¼ŒåŒ…æ‹¬é–‹ç›¤åƒ¹ã€æ”¶ç›¤åƒ¹ã€æœ€é«˜åƒ¹ã€æœ€ä½åƒ¹ç­‰ã€‚

2ã€ç²å–è‚¡ç¥¨æ­·å² K ç·šåœ–æ•¸æ“šï¼š
K ç·šåœ–æ•¸æ“šï¼šé€šé K ç·šåœ– APIï¼Œå¯ä»¥ç²å–è‚¡ç¥¨çš„æ­·å²äº¤æ˜“æ•¸æ“šï¼ŒåŒ…æ‹¬é–‹ç›¤åƒ¹ã€æ”¶ç›¤åƒ¹ã€æœ€é«˜åƒ¹ã€æœ€ä½åƒ¹ã€æˆäº¤é‡ç­‰ã€‚å¯ä»¥æ ¹æ“šéœ€è¦é¸æ“‡ä¸åŒçš„æ™‚é–“å‘¨æœŸå’Œå‡ç·šå‘¨æœŸã€‚
å¾©æ¬Šæ•¸æ“šï¼šå¯ä»¥é¸æ“‡ç²å–å¾©æ¬Šå¾Œçš„ K ç·šåœ–æ•¸æ“šï¼ŒåŒ…æ‹¬å‰å¾©æ¬Šå’Œå¾Œå¾©æ¬Šï¼Œä»¥ä¾¿æ›´æº–ç¢ºåœ°åˆ†æè‚¡ç¥¨çš„åƒ¹æ ¼è®Šå‹•ã€‚

æ–°æµªè‚¡ç¥¨æ¥å£ç²å–æ•¸æ“šç¤ºä¾‹
1ã€ç²å–è‚¡ç¥¨è¡Œæƒ…æ•¸æ“šï¼š
API åœ°å€ï¼šhttp://hq.sinajs.cn/list=[è‚¡ç¥¨ä»£ç¢¼]
ç¤ºä¾‹ï¼šè¦ç²å–è‚¡ç¥¨ä»£ç¢¼ç‚º"sh600519"ï¼ˆè²´å·èŒ…å°ï¼‰çš„å³æ™‚è¡Œæƒ…æ•¸æ“šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ API åœ°å€ï¼šhttp://hq.sinajs.cn/list=sh600519
é€šéç™¼é€ HTTP GET è«‹æ±‚åˆ°ä¸Šè¿° API åœ°å€ï¼Œæ‚¨å°‡æ”¶åˆ°ä¸€å€‹åŒ…å«è©²è‚¡ç¥¨å³æ™‚è¡Œæƒ…æ•¸æ“šçš„éŸ¿æ‡‰ã€‚

2ã€ç²å–è‚¡ç¥¨æ­·å² K ç·šåœ–æ•¸æ“šï¼š
API åœ°å€ï¼šhttp://money.finance.sina.com.cn/quotes_service/api/json_v2.php/CN_MarketData.getKLineData?symbol=[è‚¡ç¥¨ä»£ç¢¼]&scale=[æ™‚é–“å‘¨æœŸ]&ma=[å‡ç·šå‘¨æœŸ]&datalen=[æ•¸æ“šé•·åº¦]
ç¤ºä¾‹ï¼šè¦ç²å–è‚¡ç¥¨ä»£ç¢¼ç‚º"sh600519"ï¼ˆè²´å·èŒ…å°ï¼‰çš„æ—¥ç·š K ç·šåœ–æ•¸æ“šï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ API åœ°å€ï¼šhttp://money.finance.sina.com.cn/quotes_service/api/json_v2.php/CN_MarketData.getKLineData?symbol=sh600519&scale=240&ma=no&datalen=1023
é€šéç™¼é€ HTTP GET è«‹æ±‚åˆ°ä¸Šè¿° API åœ°å€ï¼Œæ‚¨å°‡æ”¶åˆ°ä¸€å€‹åŒ…å«è©²è‚¡ç¥¨æ­·å² K ç·šåœ–æ•¸æ“šçš„éŸ¿æ‡‰ã€‚
"""

# æ§‹å»º tools ç›®éŒ„çš„è·¯å¾‘
project_root = os.path.dirname(os.path.abspath(__file__))
tools_directory = os.path.join(project_root, "tools")

# å¦‚æœ tools ç›®éŒ„ä¸å­˜åœ¨ï¼Œå‰‡å‰µå»ºå®ƒ
if not os.path.exists(tools_directory):
    os.makedirs(tools_directory)

print(f"Tools ç›®éŒ„å·²å‰µå»º: {tools_directory}")

# ä½¿ç”¨ agent ç”Ÿæˆå·¥å…·ä»£ç¢¼
agent.create_tool(text, tools_directory=tools_directory)
```
åŸ·è¡Œå¾Œå°‡åœ¨ tools ç›®éŒ„ä¸­ç”Ÿæˆ 2 å€‹æ–‡ä»¶ï¼šget_stock_kline_data.py å’Œ get_stock_realtime_data.py

### 4. æ€ç¶­æ¨¹ï¼ˆToTï¼‰
å…§ç½®æ€ç¶­æ¨¹æ¨¡å¡Šï¼Œæ”¯æŒè¤‡é›œä»»å‹™åˆ†è§£å’Œå¤šæ­¥æ¨ç†ã€‚é€šéæ€ç¶­æ¨¹ï¼ŒAgent å¯ä»¥æ›´å¥½åœ°è™•ç†è¤‡é›œä»»å‹™ã€‚

```python
# å•Ÿç”¨æ€ç¶­æ¨¹
agent = LightAgent(
    model="gpt-4.1", 
    api_key="your_api_key", 
    base_url= "your_base_url", 
    tree_of_thought=True,  # å•Ÿç”¨æ€ç¶­æ¨¹
    tot_model="gpt-4o", 
    tot_api_key="sk-uXx0H0B***17778F1",  # æ›¿æ›ç‚ºä½ çš„ deepseek r1 API Key
    tot_base_url="https://api.openai.com/v1",  # api url
    filter_tools=False,  # ç¦ç”¨ è‡ªé©æ‡‰å·¥å…·æ©Ÿåˆ¶
)
```
é–‹å•ŸToTå¾Œï¼Œé»˜èªé–‹å•Ÿè‡ªé©æ‡‰å·¥å…·æ©Ÿåˆ¶ï¼Œå¦‚éœ€è¦é—œé–‰ï¼Œè«‹åœ¨åˆå§‹åŒ–LightAgentæ™‚æ·»åŠ åƒæ•¸filter_tools=Falseã€‚

### 5. å¤šæ™ºèƒ½é«”å”åŒ
æ”¯æŒé¡ Swarm çš„å¤šæ™ºèƒ½é«”å”åŒå·¥ä½œï¼Œæå‡ä»»å‹™è™•ç†æ•ˆç‡ã€‚å¤šå€‹ Agent å¯ä»¥å”åŒå®Œæˆè¤‡é›œä»»å‹™ã€‚

```python
from LightAgent import LightAgent, LightSwarm
#è¨­ç½®ç’°å¢ƒè®Šé‡ OPENAI_API_KEY å’Œ OPENAI_BASE_URL
#æ¨¡å‹é»˜èªä½¿ç”¨ gpt-4o-mini

# å‰µå»º LightSwarm å¯¦ä¾‹
light_swarm = LightSwarm()

# å‰µå»ºå¤šå€‹ Agent
agent_a = LightAgent(
    name="Agent A",
    instructions="æˆ‘æ˜¯ä»£ç†Aï¼Œæ˜¯å‰å°æ¥å¾…å“¡",
    role="å‰å°æ¥å¾…å“¡ï¼Œè² è²¬æ¥å¾…ä¾†è¨ªè€…ä¸¦æä¾›åŸºæœ¬ä¿¡æ¯æŒ‡å¼•ã€‚æ¯æ¬¡å›ç­”å‰è«‹å‰èªªæ˜è‡ªå·±çš„èº«ä»½ä¿¡æ¯ï¼Œä½ åªèƒ½å¹«åŠ©ç”¨æˆ¶å¼•å°è‡³å…¶ä»–è§’è‰²ï¼Œä¸å¯ä»¥ç›´æ¥å›ç­”é¡§å®¢çš„æ¥­å‹™å•é¡Œã€‚å¦‚æœç•¶å‰ä¸ç™¼è§£æ±ºç”¨æˆ¶çš„å•é¡Œï¼Œè«‹å›å¾©ï¼šå°ä¸èµ·ç•¶å‰æˆ‘ç„¡æ³•æä¾›å¹«åŠ©ï¼",
)

agent_b = LightAgent(
    name="Agent B",
    instructions="æˆ‘ä»£ç†Bï¼Œè² è²¬æœƒè­°å®¤çš„é å®š",
    role="æœƒè­°å®¤é å®šç®¡ç†å“¡ï¼Œè² è²¬è™•ç†1è™Ÿã€2è™Ÿã€3è™Ÿæœƒè­°å®¤çš„é å®šã€å–æ¶ˆå’ŒæŸ¥è©¢ã€‚æ¯æ¬¡å›ç­”å‰è«‹å‰èªªæ˜è‡ªå·±çš„èº«ä»½ä¿¡æ¯ï¼Œä¸¦éå¸¸å®¢æ°£åœ°å›å¾©ç”¨æˆ¶çš„æå•ã€‚",
)

agent_c = LightAgent(
    name="Agent C",
    instructions="æˆ‘æ˜¯ä»£ç†Cï¼Œæ˜¯æŠ€è¡“æ”¯æŒå°ˆå“¡ï¼Œè² è²¬è™•ç†æŠ€è¡“å•é¡Œã€‚æ¯æ¬¡å›ç­”å‰è«‹èªªæ˜è‡ªå·±çš„èº«ä»½ä¿¡æ¯ï¼Œä¸¦ç›¡å¯èƒ½è©³ç´°åœ°è§£ç­”ç”¨æˆ¶çš„æŠ€è¡“å•é¡Œã€‚å¦‚æœå•é¡Œè¶…å‡ºæˆ‘çš„èƒ½åŠ›ç¯„åœï¼Œè«‹å¼•å°ç”¨æˆ¶è¯ç³»æ›´é«˜ç´šçš„æŠ€è¡“æ”¯æŒã€‚",
    role="æŠ€è¡“æ”¯æŒå°ˆå“¡ï¼Œè² è²¬è™•ç†ç¡¬é«”ã€è»Ÿé«”ã€ç¶²çµ¡ç­‰æŠ€è¡“å•é¡Œçš„è«®è©¢å’Œè§£æ±ºã€‚",
)

agent_d = LightAgent(
    name="Agent D",
    instructions="æˆ‘æ˜¯ä»£ç†Dï¼Œæ˜¯äººåŠ›è³‡æºå°ˆå“¡ï¼Œè² è²¬è™•ç†äººåŠ›è³‡æºç›¸é—œçš„å•é¡Œã€‚æ¯æ¬¡å›ç­”å‰è«‹èªªæ˜è‡ªå·±çš„èº«ä»½ä¿¡æ¯ï¼Œä¸¦ç›¡å¯èƒ½è©³ç´°åœ°è§£ç­”ç”¨æˆ¶çš„å•é¡Œã€‚å¦‚æœå•é¡Œéœ€è¦é€²ä¸€æ­¥è™•ç†ï¼Œè«‹å¼•å°ç”¨æˆ¶è¯ç³»äººåŠ›è³‡æºéƒ¨é–€ã€‚",
    role="äººåŠ›è³‡æºå°ˆå“¡ï¼Œè² è²¬è™•ç†å“¡å·¥å…¥è·ã€é›¢è·ã€è«‹å‡ã€ç¦åˆ©ç­‰äº‹å‹™çš„è«®è©¢å’Œè™•ç†ã€‚",
)

# è‡ªå‹•è¨»å†Šä»£ç†åˆ° LightSwarm å¯¦ä¾‹
light_swarm.register_agent(agent_a, agent_b, agent_c, agent_d)

# é‹è¡Œä»£ç† A
res = light_swarm.run(agent=agent_a, query="ä½ å¥½ï¼Œæˆ‘æ˜¯ Aliceï¼Œæˆ‘éœ€è¦æŸ¥è©¢ç‹å°æ˜æ˜¯å¦å·²ç¶“è¾¦ç†å…¥è·", stream=False)
print(res)
```
è¼¸å‡ºå¦‚ä¸‹ï¼š
```python
ä½ å¥½ï¼Œæˆ‘æ˜¯äººåŠ›è³‡æºå°ˆå“¡ Agent Dã€‚é—œæ–¼ç‹å°æ˜æ˜¯å¦å·²ç¶“è¾¦ç†å…¥è·çš„å•é¡Œï¼Œæˆ‘éœ€è¦æŸ¥è©¢ä¸€ä¸‹æˆ‘å€‘çš„ç³»çµ±è¨˜éŒ„ã€‚è«‹ç¨ç­‰ç‰‡åˆ»ã€‚
ï¼ˆæŸ¥è©¢ç³»çµ±è¨˜éŒ„ä¸­...ï¼‰
æ ¹æ“šæˆ‘å€‘çš„è¨˜éŒ„ï¼Œç‹å°æ˜å·²æ–¼2025å¹´1æœˆ5æ—¥å®Œæˆäº†å…¥è·æ‰‹çºŒã€‚ä»–å·²ç¶“ç°½ç½²äº†æ‰€æœ‰å¿…è¦çš„æ–‡ä»¶ï¼Œä¸¦ä¸”å·²ç¶“åˆ†é…äº†å“¡å·¥ç·¨è™Ÿå’Œè¾¦å…¬ä½ç½®ã€‚å¦‚æœæ‚¨éœ€è¦é€²ä¸€æ­¥çš„è©³ç´°ä¿¡æ¯ï¼Œæˆ–è€…æœ‰ä»»ä½•å…¶ä»–å•é¡Œï¼Œè«‹éš¨æ™‚è¯ç³»äººåŠ›è³‡æºéƒ¨é–€ã€‚æˆ‘å€‘éš¨æ™‚æº–å‚™å¹«åŠ©æ‚¨ã€‚
```

### 6. æµå¼ API 
æ”¯æŒ OpenAI æµæ ¼å¼ API æœå‹™è¼¸å‡ºï¼Œç„¡ç¸«æ¥å…¥ä¸»æµ Chat æ¡†æ¶ã€‚

```python
# å•Ÿç”¨æµå¼è¼¸å‡º
response = agent.run("è«‹ç”Ÿæˆä¸€ç¯‡é—œæ–¼ AI çš„æ–‡ç« ", stream=True)
for chunk in response:
    print(chunk)
```


### 7. Agent æ¸¬è©• (å³å°‡æ¨å‡º)
å…§ç½® Agent æ¸¬è©•å·¥å…·ï¼Œæ–¹ä¾¿è©•ä¼°å’Œå„ªåŒ– Agent æ€§èƒ½ã€‚



## ä¸»æµ Agent æ¨¡å‹æ”¯æŒ
å…¼å®¹å¤šç¨®å¤§æ¨¡å‹ï¼ŒåŒ…æ‹¬ OpenAIã€æ™ºè­œ ChatGLMã€DeepSeekã€Qwen ç³»åˆ—å¤§æ¨¡å‹ã€‚

#### ç›®å‰å·²ç¶“æ¸¬è©¦å…¼å®¹çš„å¤§æ¨¡å‹
Openai ç³»åˆ—
 - gpt-3.5-turbo
 - gpt-4
 - gpt-4o
 - gpt-4o-mini
 - o4-mini
 - gpt-4.1
 - gpt-4.1-mini
 - gpt-4.1-nano
 - gpt-5
 - gpt-5-mini
 - gpt-5-nano

ChatGLM
 - GLM-4.5
 - GLM-4.5-Air
 - GLM-4.5-X
 - GLM-4.5-AirX
 - GLM-4.5-Flash
 - GLM-4-Plus
 - GLM-4-Air-0111
 - GLM-4-Flash
 - GLM-4-FlashX
 - GLM-4-alltools
 - GLM-4
 - GLM-3-Turbo
 - ChatGLM3-6B
 - GLM-4-9B-Chat

DeepSeek
 - DeepSeek-r1
 - DeepSeek-v3

StepFun
 - step-1-8k
 - step-1-32k
 - step-1-128kï¼ˆåœ¨å¤šå·¥å…·èª¿ç”¨ä¸­å­˜åœ¨å•é¡Œï¼‰
 - step-1-256kï¼ˆåœ¨å¤šå·¥å…·èª¿ç”¨ä¸­å­˜åœ¨å•é¡Œï¼‰
 - step-1-flashï¼ˆæ¨è–¦ç”¨æ­¤æ¨¡å‹ï¼Œæ€§åƒ¹æ¯”é«˜ï¼‰
 - step-2-16kï¼ˆåœ¨å¤šå·¥å…·èª¿ç”¨ä¸­å­˜åœ¨å•é¡Œï¼‰


Qwen ç³»åˆ—
 - qwen-plus-2024-11-25
 - qwen-plus-2024-11-27
 - qwen-plus-1220
 - qwen-plus
 - qwen-plus-latest 
 - qwen2.5-72b-instruct
 - qwen2.5-32b-instruct
 - qwen2.5-14b-instruct
 - qwen2.5-7b-instruct 
 - qwen-turbo-latest
 - qwen-turbo-2024-11-01
 - qwen-turbo
 - qwen-long
 - qwq-32b
 - qwen3-0.6b
 - qwen3-1.7b
 - qwen3-4b
 - qwen3-8b
 - qwen3-14b
 - qwen3-32b
 - qwen3-30b-a3b
 - qwen3-235b-a22b
 - Qwen3-30B-A3B-Thinking-2507
 - Qwen3-30B-A3B-Instruct-2507


---

## ä½¿ç”¨å ´æ™¯

- **æ™ºèƒ½å®¢æœ**ï¼šé€šéå¤šè¼ªå°è©±å’Œå·¥å…·é›†æˆï¼Œæä¾›é«˜æ•ˆçš„å®¢æˆ¶æ”¯æŒã€‚
- **æ•¸æ“šåˆ†æ**ï¼šåˆ©ç”¨æ€ç¶­æ¨¹å’Œå¤šæ™ºèƒ½é«”å”åŒï¼Œè™•ç†è¤‡é›œçš„æ•¸æ“šåˆ†æä»»å‹™ã€‚
- **è‡ªå‹•åŒ–å·¥å…·**ï¼šé€šéè‡ªå‹•åŒ–å·¥å…·ç”Ÿæˆï¼Œå¿«é€Ÿæ§‹å»ºå®šåˆ¶åŒ–å·¥å…·ã€‚
- **æ•™è‚²è¼”åŠ©**ï¼šé€šéè¨˜æ†¶æ¨¡å¡Šå’Œæµå¼ APIï¼Œæä¾›å€‹æ€§åŒ–çš„å­¸ç¿’é«”é©—ã€‚

---
 
## ğŸ› ï¸ è²¢ç»æŒ‡å—

æˆ‘å€‘æ­¡è¿ä»»ä½•å½¢å¼çš„è²¢ç»ï¼ç„¡è«–æ˜¯ä»£ç¢¼ã€æ–‡æª”ã€æ¸¬è©¦é‚„æ˜¯åé¥‹ï¼Œéƒ½æ˜¯å°é …ç›®çš„å·¨å¤§å¹«åŠ©ã€‚å¦‚æœæ‚¨æœ‰å¥½çš„æƒ³æ³•æˆ–ç™¼ç¾ Bugï¼Œè«‹æäº¤ Issue æˆ– Pull Requestã€‚ä»¥ä¸‹æ˜¯è²¢ç»æ­¥é©Ÿï¼š

1. **Fork æœ¬é …ç›®**ï¼šé»æ“Šå³ä¸Šè§’çš„ `Fork` æŒ‰éˆ•ï¼Œå°‡é …ç›®è¤‡è£½åˆ°æ‚¨çš„ GitHub å€‰åº«ã€‚
2. **å‰µå»ºåˆ†æ”¯**ï¼šåœ¨æœ¬åœ°å‰µå»ºæ‚¨çš„é–‹ç™¼åˆ†æ”¯ï¼š  
   ```bash
   git checkout -b feature/YourFeature
   ```
3. **æäº¤æ›´æ”¹**ï¼šå®Œæˆé–‹ç™¼å¾Œï¼Œæäº¤æ‚¨çš„æ›´æ”¹ï¼š  
   ```bash
   git commit -m 'Add some feature'
   ```
4. **æ¨é€åˆ†æ”¯**ï¼šå°‡åˆ†æ”¯æ¨é€åˆ°æ‚¨çš„é ç¨‹å€‰åº«ï¼š  
   ```bash
   git push origin feature/YourFeature
   ```
5. **æäº¤ Pull Request**ï¼šåœ¨ GitHub ä¸Šæäº¤ Pull Requestï¼Œä¸¦æè¿°æ‚¨çš„æ›´æ”¹å…§å®¹ã€‚

æˆ‘å€‘æœƒåœ¨ç¬¬ä¸€æ™‚é–“å¯©æ ¸æ‚¨çš„è²¢ç»ï¼Œæ„Ÿè¬æ‚¨çš„æ”¯æŒï¼â¤ï¸

---

## ğŸ™ è‡´è¬

LightAgent çš„é–‹ç™¼å’Œå¯¦ç¾é›¢ä¸å¼€ä»¥ä¸‹é–‹æºé …ç›®çš„å•Ÿç™¼å’Œæ”¯æŒï¼Œç‰¹åˆ¥æ„Ÿè¬é€™äº›å„ªç§€çš„é …ç›®å’Œåœ˜éšŠï¼š

- **mem0**ï¼šæ„Ÿè¬ [mem0](https://github.com/mem0ai/mem0) æä¾›çš„è¨˜æ†¶æ¨¡å¡Šï¼Œç‚º LightAgent çš„ä¸Šä¸‹æ–‡ç®¡ç†æä¾›äº†å¼·å¤§æ”¯æŒã€‚  
- **Swarm**ï¼šæ„Ÿè¬ [Swarm](https://github.com/openai/swarm) æä¾›çš„å¤šæ™ºèƒ½é«”å”åŒè¨­è¨ˆæ€è·¯ï¼Œç‚º LightAgent çš„å¤šæ™ºèƒ½é«”åŠŸèƒ½å¥ å®šäº†åŸºç¤ã€‚  
- **ChatGLM3**ï¼šæ„Ÿè¬ [ChatGLM3](https://github.com/THUDM/ChatGLM3) æä¾›çš„é«˜æ€§èƒ½ä¸­æ–‡å¤§æ¨¡å‹æ”¯æŒå’Œè¨­è¨ˆéˆæ„Ÿã€‚  
- **Qwen**ï¼šæ„Ÿè¬ [Qwen](https://github.com/QwenLM/Qwen) æä¾›çš„é«˜æ€§èƒ½ä¸­æ–‡å¤§æ¨¡å‹æ”¯æŒã€‚  
- **DeepSeek-V3**ï¼šæ„Ÿè¬ [DeepSeek-V3](https://github.com/deepseek-ai/DeepSeek-V3) æä¾›çš„é«˜æ€§èƒ½ä¸­æ–‡å¤§æ¨¡å‹æ”¯æŒã€‚  
- **StepFun**ï¼šæ„Ÿè¬ [step](https://www.stepfun.com/) æä¾›çš„é«˜æ€§èƒ½ä¸­æ–‡å¤§æ¨¡å‹æ”¯æŒã€‚  

---

## ğŸ“„ è¨±å¯è­‰

LightAgent é‡‡ç”¨ [Apache 2.0 è¨±å¯è­‰](LICENSE)ã€‚æ‚¨å¯ä»¥è‡ªç”±ä½¿ç”¨ã€ä¿®æ”¹å’Œåˆ†ç™¼æœ¬é …ç›®ï¼Œä½†è«‹éµå®ˆè¨±å¯è­‰æ¢æ¬¾ã€‚

---

## ğŸ“¬ è¯ç¹«æˆ‘å€‘

å¦‚æœ‰ä»»ä½•å•é¡Œæˆ–å»ºè­°ï¼Œæ­¡è¿éš¨æ™‚è¯ç¹«æˆ‘å€‘ï¼š

- **éƒµç®±**ï¼šservice@wanxingai.com  
- **GitHub Issues**ï¼š[https://github.com/wxai-space/lightagent/issues](https://github.com/wxai-space/lightagent/issues)  

æˆ‘å€‘æœŸå¾…æ‚¨çš„åé¥‹ï¼Œä¸€èµ·è®“ LightAgent è®Šå¾—æ›´å¼·å¤§ï¼ğŸš€

- **æ›´å¤šå·¥å…·** ğŸ› ï¸ï¼šæŒçºŒé›†æˆæ›´å¤šå¯¦ç”¨å·¥å…·ï¼Œæ»¿è¶³æ›´å¤šå ´æ™¯éœ€æ±‚ã€‚
- **æ›´å¤šæ¨¡å‹æ”¯æŒ** ğŸ”„ï¼šæŒçºŒæ“´å±•æ”¯æŒæ›´å¤šå¤§æ¨¡å‹ï¼Œæ»¿è¶³æ›´å¤šæ‡‰ç”¨å ´æ™¯ã€‚
- **æ›´å¤šåŠŸèƒ½** ğŸ¯ï¼šæ›´å¤šå¯¦ç”¨åŠŸèƒ½ï¼ŒæŒçºŒæ›´æ–°ï¼Œæ•¬è«‹æœŸå¾…ï¼
- **æ›´å¤šæ–‡æª”** ğŸ“šï¼šè©³ç›¡æ–‡æª”ï¼Œç¤ºä¾‹è±å¯Œï¼Œå¿«é€Ÿä¸Šæ‰‹ï¼Œè¼•é¬†é›†æˆåˆ°ä½ çš„é …ç›®ä¸­ã€‚
- **æ›´å¤šç¤¾å€æ”¯æŒ** ğŸ‘¥ï¼šæ´»èºçš„é–‹ç™¼è€…ç¤¾å€ï¼Œéš¨æ™‚ç‚ºä½ æä¾›å¹«åŠ©å’Œè§£ç­”ã€‚
- **æ›´å¤šæ€§èƒ½å„ªåŒ–** âš¡ï¼šæŒçºŒå„ªåŒ–æ€§èƒ½ï¼Œæ»¿è¶³é«˜ä¸¦ç™¼å ´æ™¯éœ€æ±‚ã€‚
- **æ›´å¤šé–‹æºè²¢ç»** ğŸŒŸï¼šæ­¡è¿è²¢ç»ä»£ç¢¼ï¼Œä¸€èµ·æ‰“é€ æ›´å¥½çš„ LightAgentï¼

---

<p align="center">
  <strong>LightAgent - è®“æ™ºèƒ½æ›´è¼•é‡ï¼Œè®“æœªä¾†æ›´ç°¡å–®ã€‚</strong> ğŸŒˆ
</p>

 
**LightAgent** â€”â€” è¼•é‡ã€éˆæ´»ã€å¼·å¤§çš„ä¸»å‹•å¼ Agent æ¡†æ¶ï¼ŒåŠ©æ‚¨å¿«é€Ÿæ§‹å»ºæ™ºèƒ½æ‡‰ç”¨ï¼